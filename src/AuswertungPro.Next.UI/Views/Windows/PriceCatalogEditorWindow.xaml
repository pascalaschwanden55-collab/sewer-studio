<Window x:Class="AuswertungPro.Next.UI.Views.Windows.PriceCatalogEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Preiskatalog bearbeiten" 
        Height="680" Width="1150" 
        WindowStartupLocation="CenterOwner">
    <DockPanel Margin="10">
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
            <TextBlock Text="Suche:" VerticalAlignment="Center" Margin="0,0,6,0"/>
            <TextBox Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" 
                     Width="320" Margin="0,0,10,0"/>
            <Button Command="{Binding AddNewCommand}" Content="Neu" Width="90" Margin="0,0,6,0"/>
            <Button Command="{Binding DeleteCommand}" 
                    CommandParameter="{Binding ElementName=dg, Path=SelectedItem}"
                    Content="Löschen" Width="90" Margin="0,0,20,0"/>
            <TextBlock Text="DN-Preise: z.B. DN500 -> dn_min=500, dn_max=500." 
                       VerticalAlignment="Center" TextWrapping="Wrap" Width="300"/>
        </StackPanel>

        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" 
                    HorizontalAlignment="Right" Margin="0,8,0,0">
            <Button Command="{Binding SaveCommand}" Content="Speichern" 
                    Width="120" Margin="0,0,6,0"/>
            <Button Content="Schließen" Width="120" Click="Close_Click"/>
        </StackPanel>

        <DataGrid x:Name="dg" 
                  ItemsSource="{Binding Items}"
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False" 
                  CanUserDeleteRows="False"
                  SelectionUnit="FullRow" 
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column" 
                  RowHeaderWidth="0">
            <DataGrid.Columns>
                <DataGridTextColumn Header="id" Binding="{Binding Id}" Width="170"/>
                <DataGridTextColumn Header="Gruppe" Binding="{Binding Group}" Width="140"/>
                <DataGridTextColumn Header="Bezeichnung" Binding="{Binding Label}" Width="280"/>
                <DataGridTextColumn Header="Einheit" Binding="{Binding Unit}" Width="60"/>
                <DataGridTextColumn Header="DN min" Binding="{Binding DnMin}" Width="70"/>
                <DataGridTextColumn Header="DN max" Binding="{Binding DnMax}" Width="70"/>
                <DataGridTextColumn Header="Preis" Binding="{Binding UnitPrice}" Width="90"/>
                <DataGridTextColumn Header="Quelle Datei" Binding="{Binding SourceFile}" Width="170"/>
                <DataGridTextColumn Header="Quelle Pos" Binding="{Binding SourcePos}" Width="110"/>
                <DataGridTextColumn Header="Notiz" Binding="{Binding Notes}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>
